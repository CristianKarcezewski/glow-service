CREATE TABLE IF NOT EXISTS users_groups(
        id INT GENERATED ALWAYS AS IDENTITY,
        user_group_name VARCHAR(50) NOT NULL,
		PRIMARY KEY(id)
    );

INSERT INTO users_groups(user_group_name) VALUES('common');

CREATE TABLE IF NOT EXISTS users(
    	id INT GENERATED ALWAYS AS IDENTITY,
		user_group_id INT,
        user_name VARCHAR(100) NOT NULL,
		last_login VARCHAR(100),
		email VARCHAR(100) UNIQUE,
		phone VARCHAR(50),
		image_url VARCHAR(200),
		created_at VARCHAR(100),
		active BOOLEAN,
		PRIMARY KEY(id),
		CONSTRAINT fk_users_groups
			FOREIGN KEY(user_group_id)
				REFERENCES users_groups(id)
    );

CREATE TABLE IF NOT EXISTS hashs(
    	id INT GENERATED ALWAYS AS IDENTITY,
		user_id INT,
        hash VARCHAR(100) NOT NULL,
		PRIMARY KEY(id),
		CONSTRAINT fk_users
			FOREIGN KEY(user_id)
				REFERENCES users(id)
    );